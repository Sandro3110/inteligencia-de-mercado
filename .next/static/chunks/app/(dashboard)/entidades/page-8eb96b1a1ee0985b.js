(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[912],{494:(e,s,a)=>{Promise.resolve().then(a.bind(a,8155))},8155:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>eM});var t=a(3173),l=a(2929),r=a(6524),i=a(629),d=a(4640);function n(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,d.QP)((0,i.$)(s))}let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:n("rounded-lg border bg-card text-card-foreground shadow-sm",a),...l})});c.displayName="Card";let o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:n("flex flex-col space-y-1.5 p-6",a),...l})});o.displayName="CardHeader";let m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("h3",{ref:s,className:n("text-2xl font-semibold leading-none tracking-tight",a),...l})});m.displayName="CardTitle",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("p",{ref:s,className:n("text-sm text-muted-foreground",a),...l})}).displayName="CardDescription";let x=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:n("p-6 pt-0",a),...l})});x.displayName="CardContent",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:n("flex items-center p-6 pt-0",a),...l})}).displayName="CardFooter";var u=a(2679),h=a(2445);let j=(0,h.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),f=l.forwardRef((e,s)=>{let{className:a,variant:l,size:r,asChild:i=!1,...d}=e,c=i?u.DX:"button";return(0,t.jsx)(c,{className:n(j({variant:l,size:r,className:a})),ref:s,...d})});f.displayName="Button";let p=l.forwardRef((e,s)=>{let{className:a,type:l,...r}=e;return(0,t.jsx)("input",{type:l,className:n("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...r})});p.displayName="Input";let N=(0,h.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function g(e){let{className:s,variant:a,...l}=e;return(0,t.jsx)("div",{className:n(N({variant:a}),s),...l})}var v=a(7119),b=a(9023),y=a(5382),w=a(9640);let A=v.bL;v.YJ;let C=v.WT,P=l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(v.l9,{ref:s,className:n("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...r,children:[l,(0,t.jsx)(v.In,{asChild:!0,children:(0,t.jsx)(b.A,{className:"h-4 w-4 opacity-50"})})]})});P.displayName=v.l9.displayName;let _=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(v.PP,{ref:s,className:n("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(y.A,{className:"h-4 w-4"})})});_.displayName=v.PP.displayName;let E=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(v.wn,{ref:s,className:n("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(b.A,{className:"h-4 w-4"})})});E.displayName=v.wn.displayName;let S=l.forwardRef((e,s)=>{let{className:a,children:l,position:r="popper",...i}=e;return(0,t.jsx)(v.ZL,{children:(0,t.jsxs)(v.UC,{ref:s,className:n("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...i,children:[(0,t.jsx)(_,{}),(0,t.jsx)(v.LM,{className:n("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(E,{})]})})});S.displayName=v.UC.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(v.JU,{ref:s,className:n("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...l})}).displayName=v.JU.displayName;let R=l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(v.q7,{ref:s,className:n("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(v.VF,{children:(0,t.jsx)(w.A,{className:"h-4 w-4"})})}),(0,t.jsx)(v.p4,{children:l})]})});R.displayName=v.q7.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(v.wv,{ref:s,className:n("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=v.wv.displayName;let z=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:s,className:n("w-full caption-bottom text-sm",a),...l})})});z.displayName="Table";let k=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("thead",{ref:s,className:n("[&_tr]:border-b",a),...l})});k.displayName="TableHeader";let q=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("tbody",{ref:s,className:n("[&_tr:last-child]:border-0",a),...l})});q.displayName="TableBody",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("tfoot",{ref:s,className:n("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...l})}).displayName="TableFooter";let F=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("tr",{ref:s,className:n("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...l})});F.displayName="TableRow";let T=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("th",{ref:s,className:n("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...l})});T.displayName="TableHead";let D=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("td",{ref:s,className:n("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...l})});D.displayName="TableCell",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("caption",{ref:s,className:n("mt-4 text-sm text-muted-foreground",a),...l})}).displayName="TableCaption";var L=a(1391),M=a(2117),U=a(5662),V=a(9660),I=a(5571),J=a(919),O=a(9709),B=a(2993),G=a(98),Q=a(9144),W=a(3062),Y=a(1951),H=a(399),Z=a(2740),$=a(5784),K=a(5855),X=a(195),ee=a(1394);function es(e){let{...s}=e;return(0,t.jsx)(ee.bL,{"data-slot":"sheet",...s})}function ea(e){let{...s}=e;return(0,t.jsx)(ee.ZL,{"data-slot":"sheet-portal",...s})}function et(e){let{className:s,...a}=e;return(0,t.jsx)(ee.hJ,{"data-slot":"sheet-overlay",className:n("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...a})}function el(e){let{className:s,children:a,side:l="right",...r}=e;return(0,t.jsxs)(ea,{children:[(0,t.jsx)(et,{}),(0,t.jsxs)(ee.UC,{"data-slot":"sheet-content",className:n("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===l&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===l&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===l&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===l&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",s),...r,children:[a,(0,t.jsxs)(ee.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,t.jsx)(J.A,{className:"size-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function er(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"sheet-header",className:n("flex flex-col gap-1.5 p-4",s),...a})}function ei(e){let{className:s,...a}=e;return(0,t.jsx)(ee.hE,{"data-slot":"sheet-title",className:n("text-foreground font-semibold",s),...a})}function ed(e){let{className:s,...a}=e;return(0,t.jsx)(ee.VY,{"data-slot":"sheet-description",className:n("text-muted-foreground text-sm",s),...a})}var en=a(3697);let ec=en.bL,eo=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(en.B8,{ref:s,className:n("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...l})});eo.displayName=en.B8.displayName;let em=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(en.l9,{ref:s,className:n("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...l})});em.displayName=en.l9.displayName;let ex=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(en.UC,{ref:s,className:n("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...l})});ex.displayName=en.UC.displayName;var eu=a(2873),eh=a(9624),ej=a(9290),ef=a(295),ep=a(3141),eN=a(450),eg=a(1282),ev=a(2935),eb=a(6161),ey=a(3149),ew=a(9070);let eA=ee.bL;ee.l9;let eC=ee.ZL;ee.bm;let eP=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(ee.hJ,{ref:s,className:n("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});eP.displayName=ee.hJ.displayName;let e_=l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(eC,{children:[(0,t.jsx)(eP,{}),(0,t.jsxs)(ee.UC,{ref:s,className:n("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r,children:[l,(0,t.jsxs)(ee.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(J.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});e_.displayName=ee.UC.displayName;let eE=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:n("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};eE.displayName="DialogHeader";let eS=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:n("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};eS.displayName="DialogFooter";let eR=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(ee.hE,{ref:s,className:n("text-lg font-semibold leading-none tracking-tight",a),...l})});eR.displayName=ee.hE.displayName;let ez=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(ee.VY,{ref:s,className:n("text-sm text-muted-foreground",a),...l})});ez.displayName=ee.VY.displayName;var ek=a(2003);let eq=(0,h.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),eF=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(ek.b,{ref:s,className:n(eq(),a),...l})});function eT(e){let{entidade:s,open:a,onOpenChange:r,onSuccess:i}=e,[d,n]=(0,l.useState)({nome:s.nome||"",cnpj:s.cnpj||"",email:s.email||"",telefone:s.telefone||"",celular:s.celular||"",website:s.website||"",endereco:s.endereco||"",cidade:s.cidade||"",estado:s.estado||"",cep:s.cep||"",setor:s.setor||"",porte:s.porte||""}),c=K.i.useUtils(),o=K.i.entidade.atualizar.useMutation({onSuccess:()=>{X.o.success("Entidade atualizada com sucesso!"),c.entidade.listar.invalidate(),c.entidade.obterPorId.invalidate({id:s.id}),r(!1),null==i||i()},onError:e=>{X.o.error("Erro ao atualizar entidade: ".concat(e.message))}});return(0,t.jsx)(eA,{open:a,onOpenChange:r,children:(0,t.jsxs)(e_,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(eE,{children:[(0,t.jsx)(eR,{children:"Editar Entidade"}),(0,t.jsx)(ez,{children:"Atualize os dados cadastrais da entidade. Campos com * s\xe3o obrigat\xf3rios."})]}),(0,t.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!d.nome.trim()){X.o.error("Nome \xe9 obrigat\xf3rio");return}if(d.email&&!d.email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)){X.o.error("Email inv\xe1lido");return}if(d.cnpj&&!d.cnpj.match(/^\d{14}$/)){X.o.error("CNPJ deve conter 14 d\xedgitos");return}o.mutate({id:s.id,...d,email:d.email||null,telefone:d.telefone||null,celular:d.celular||null,website:d.website||null,endereco:d.endereco||null,cidade:d.cidade||null,estado:d.estado||null,cep:d.cep||null,setor:d.setor||null,porte:d.porte||null})},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"nome",children:"Nome *"}),(0,t.jsx)(p,{id:"nome",value:d.nome,onChange:e=>n({...d,nome:e.target.value}),placeholder:"Nome da entidade",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"cnpj",children:"CNPJ"}),(0,t.jsx)(p,{id:"cnpj",value:d.cnpj,onChange:e=>n({...d,cnpj:e.target.value.replace(/\D/g,"")}),placeholder:"00000000000000",maxLength:14})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"email",children:"Email"}),(0,t.jsx)(p,{id:"email",type:"email",value:d.email,onChange:e=>n({...d,email:e.target.value}),placeholder:"contato@empresa.com.br"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"telefone",children:"Telefone"}),(0,t.jsx)(p,{id:"telefone",value:d.telefone,onChange:e=>n({...d,telefone:e.target.value}),placeholder:"(11) 3000-0000"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"celular",children:"Celular"}),(0,t.jsx)(p,{id:"celular",value:d.celular,onChange:e=>n({...d,celular:e.target.value}),placeholder:"(11) 90000-0000"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"website",children:"Website"}),(0,t.jsx)(p,{id:"website",type:"url",value:d.website,onChange:e=>n({...d,website:e.target.value}),placeholder:"https://www.empresa.com.br"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"endereco",children:"Endere\xe7o"}),(0,t.jsx)(p,{id:"endereco",value:d.endereco,onChange:e=>n({...d,endereco:e.target.value}),placeholder:"Rua, n\xfamero, complemento"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"cidade",children:"Cidade"}),(0,t.jsx)(p,{id:"cidade",value:d.cidade,onChange:e=>n({...d,cidade:e.target.value}),placeholder:"S\xe3o Paulo"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"estado",children:"Estado"}),(0,t.jsxs)(A,{value:d.estado,onValueChange:e=>n({...d,estado:e}),children:[(0,t.jsx)(P,{id:"estado",children:(0,t.jsx)(C,{placeholder:"UF"})}),(0,t.jsx)(S,{children:["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"].map(e=>(0,t.jsx)(R,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"cep",children:"CEP"}),(0,t.jsx)(p,{id:"cep",value:d.cep,onChange:e=>n({...d,cep:e.target.value.replace(/\D/g,"")}),placeholder:"00000000",maxLength:8})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"setor",children:"Setor"}),(0,t.jsx)(p,{id:"setor",value:d.setor,onChange:e=>n({...d,setor:e.target.value}),placeholder:"Varejo, Tecnologia, etc."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"porte",children:"Porte"}),(0,t.jsxs)(A,{value:d.porte,onValueChange:e=>n({...d,porte:e}),children:[(0,t.jsx)(P,{id:"porte",children:(0,t.jsx)(C,{placeholder:"Selecione"})}),(0,t.jsx)(S,{children:["Micro","Pequeno","M\xe9dio","Grande"].map(e=>(0,t.jsx)(R,{value:e,children:e},e))})]})]})]}),(0,t.jsxs)(eS,{children:[(0,t.jsx)(f,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:o.isPending,children:"Cancelar"}),(0,t.jsxs)(f,{type:"submit",disabled:o.isPending,children:[o.isPending&&(0,t.jsx)(B.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar Altera\xe7\xf5es"]})]})]})]})})}function eD(e){let{entidade:s,open:a,onOpenChange:r}=e,[i,d]=(0,l.useState)("cadastrais"),[n,u]=(0,l.useState)(!1);if(!s)return null;let h=e=>null==e||""===e?"-":e,j=e=>e?new Date(e).toLocaleDateString("pt-BR"):"-",p=e=>{let{label:s,variant:a}={cliente:{label:"Cliente",variant:"default"},lead:{label:"Lead",variant:"secondary"},concorrente:{label:"Concorrente",variant:"destructive"}}[e]||{label:e,variant:"default"};return(0,t.jsx)(g,{variant:a,children:s})},N=(e,s)=>s&&""!==s?(0,t.jsxs)(g,{variant:"default",className:"text-xs",children:[(0,t.jsx)(Q.A,{className:"h-3 w-3 mr-1"}),"OK"]}):(0,t.jsxs)(g,{variant:"destructive",className:"text-xs",children:[(0,t.jsx)(Z.A,{className:"h-3 w-3 mr-1"}),"Faltando"]});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(es,{open:a,onOpenChange:r,children:(0,t.jsxs)(el,{className:"w-full sm:max-w-2xl overflow-y-auto",children:[(0,t.jsx)(er,{children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)(ei,{className:"text-2xl flex items-center gap-2",children:[(0,t.jsx)(U.A,{className:"h-6 w-6"}),s.nome||"Sem nome"]}),(0,t.jsxs)(ed,{className:"mt-2 flex items-center gap-2",children:[p(s.tipo),s.cnpj&&(0,t.jsx)(g,{variant:"outline",className:"font-mono",children:s.cnpj})]})]})})}),(0,t.jsxs)(ec,{value:i,onValueChange:d,className:"mt-6",children:[(0,t.jsxs)(eo,{className:"grid w-full grid-cols-3",children:[(0,t.jsxs)(em,{value:"cadastrais",className:"text-xs",children:[(0,t.jsx)(eu.A,{className:"h-3 w-3 mr-1"}),"Cadastrais"]}),(0,t.jsxs)(em,{value:"qualidade",className:"text-xs",children:[(0,t.jsx)(eh.A,{className:"h-3 w-3 mr-1"}),"Qualidade"]}),(0,t.jsxs)(em,{value:"enriquecimento",className:"text-xs",children:[(0,t.jsx)(ej.A,{className:"h-3 w-3 mr-1"}),"Enriquecimento"]})]}),(0,t.jsxs)(eo,{className:"grid w-full grid-cols-3 mt-2",children:[(0,t.jsxs)(em,{value:"produtos",className:"text-xs",children:[(0,t.jsx)(ef.A,{className:"h-3 w-3 mr-1"}),"Produtos"]}),(0,t.jsxs)(em,{value:"rastreabilidade",className:"text-xs",children:[(0,t.jsx)(O.A,{className:"h-3 w-3 mr-1"}),"Rastreabilidade"]}),(0,t.jsxs)(em,{value:"acoes",className:"text-xs",children:[(0,t.jsx)($.A,{className:"h-3 w-3 mr-1"}),"A\xe7\xf5es"]})]}),(0,t.jsxs)(ex,{value:"cadastrais",className:"space-y-4 mt-4",children:[(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{children:(0,t.jsxs)(m,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(U.A,{className:"h-4 w-4"}),"Identifica\xe7\xe3o"]})}),(0,t.jsxs)(x,{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Nome Fantasia"}),(0,t.jsx)("p",{className:"font-medium",children:h(s.nome_fantasia)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Raz\xe3o Social"}),(0,t.jsx)("p",{className:"font-medium",children:h(s.razao_social)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"CNPJ"}),(0,t.jsx)("p",{className:"font-mono font-medium",children:h(s.cnpj)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Tipo"}),(0,t.jsx)("div",{className:"mt-1",children:p(s.tipo)})]})]})]}),(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{children:(0,t.jsxs)(m,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(W.A,{className:"h-4 w-4"}),"Contato"]})}),(0,t.jsxs)(x,{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Email"}),(0,t.jsx)("p",{className:"font-medium break-all",children:h(s.email)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Telefone"}),(0,t.jsx)("p",{className:"font-medium",children:h(s.telefone)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Celular"}),(0,t.jsx)("p",{className:"font-medium",children:h(s.celular)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Website"}),(0,t.jsx)("p",{className:"font-medium break-all",children:h(s.website)})]})]})]}),(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{children:(0,t.jsxs)(m,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(H.A,{className:"h-4 w-4"}),"Localiza\xe7\xe3o"]})}),(0,t.jsxs)(x,{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Endere\xe7o"}),(0,t.jsx)("p",{className:"font-medium",children:h(s.endereco)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Cidade"}),(0,t.jsx)("p",{className:"font-medium",children:h(s.cidade)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"UF"}),(0,t.jsx)("p",{className:"font-medium",children:h(s.uf)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"CEP"}),(0,t.jsx)("p",{className:"font-mono font-medium",children:h(s.cep)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Pa\xeds"}),(0,t.jsx)("p",{className:"font-medium",children:h(s.pais)})]})]})]}),(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{children:(0,t.jsxs)(m,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(eh.A,{className:"h-4 w-4"}),"Informa\xe7\xf5es Empresariais"]})}),(0,t.jsxs)(x,{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Setor"}),(0,t.jsx)("p",{className:"font-medium",children:h(s.setor)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Porte"}),(0,t.jsx)("p",{className:"font-medium",children:h(s.porte)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Faturamento"}),(0,t.jsx)("p",{className:"font-medium",children:h(s.faturamento)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Funcion\xe1rios"}),(0,t.jsx)("p",{className:"font-medium",children:h(s.numero_funcionarios)})]})]})]}),(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{children:(0,t.jsxs)(m,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(eu.A,{className:"h-4 w-4"}),"Dados Adicionais"]})}),(0,t.jsxs)(x,{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Descri\xe7\xe3o"}),(0,t.jsx)("p",{className:"font-medium text-xs leading-relaxed",children:h(s.descricao)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Observa\xe7\xf5es"}),(0,t.jsx)("p",{className:"font-medium text-xs leading-relaxed",children:h(s.observacoes)})]})]})]})]}),(0,t.jsxs)(ex,{value:"qualidade",className:"space-y-4 mt-4",children:[(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{children:(0,t.jsxs)(m,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(eh.A,{className:"h-4 w-4"}),"Score de Qualidade"]})}),(0,t.jsx)(x,{children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"text-4xl font-bold text-primary",children:[s.score_qualidade||0,"%"]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-primary transition-all",style:{width:"".concat(s.score_qualidade||0,"%")}})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:s.score_qualidade>=80?"Excelente qualidade":s.score_qualidade>=60?"Boa qualidade":s.score_qualidade>=40?"Qualidade m\xe9dia":"Qualidade baixa"})]})]})})]}),(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{children:(0,t.jsxs)(m,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(Q.A,{className:"h-4 w-4"}),"Valida\xe7\xe3o de Campos"]})}),(0,t.jsx)(x,{className:"space-y-2",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Nome"}),N("nome",s.nome)]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"CNPJ"}),N("cnpj",s.cnpj)]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Email"}),N("email",s.email)]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Telefone"}),N("telefone",s.telefone)]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Endere\xe7o"}),N("endereco",s.endereco)]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Cidade"}),N("cidade",s.cidade)]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Setor"}),N("setor",s.setor)]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Porte"}),N("porte",s.porte)]})]})})]}),(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{children:(0,t.jsxs)(m,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(G.A,{className:"h-4 w-4"}),"Campos Faltantes"]})}),(0,t.jsx)(x,{children:(0,t.jsxs)("div",{className:"space-y-1 text-xs",children:[!s.razao_social&&(0,t.jsx)("p",{children:"• Raz\xe3o Social"}),!s.email&&(0,t.jsx)("p",{children:"• Email"}),!s.telefone&&(0,t.jsx)("p",{children:"• Telefone"}),!s.endereco&&(0,t.jsx)("p",{children:"• Endere\xe7o"}),!s.setor&&(0,t.jsx)("p",{children:"• Setor"}),!s.porte&&(0,t.jsx)("p",{children:"• Porte"}),!s.website&&(0,t.jsx)("p",{children:"• Website"}),s.razao_social&&s.email&&s.telefone&&s.endereco&&s.setor&&s.porte&&s.website&&(0,t.jsx)("p",{className:"text-green-600 font-medium",children:"✓ Todos os campos principais preenchidos"})]})})]})]}),(0,t.jsxs)(ex,{value:"enriquecimento",className:"space-y-4 mt-4",children:[(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{children:(0,t.jsxs)(m,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(ej.A,{className:"h-4 w-4"}),"Status de Enriquecimento"]})}),(0,t.jsxs)(x,{children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:s.enriquecido?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Q.A,{className:"h-5 w-5 text-green-600"}),(0,t.jsx)("span",{className:"font-medium",children:"Enriquecido com IA"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z.A,{className:"h-5 w-5 text-gray-400"}),(0,t.jsx)("span",{className:"font-medium",children:"N\xe3o enriquecido"})]})}),s.data_enriquecimento&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["\xdaltima atualiza\xe7\xe3o: ",j(s.data_enriquecimento)]})]})]}),(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{children:(0,t.jsx)(m,{className:"text-sm",children:"A\xe7\xf5es de Enriquecimento"})}),(0,t.jsxs)(x,{className:"space-y-2",children:[(0,t.jsxs)(f,{variant:"outline",size:"sm",className:"w-full justify-start",children:[(0,t.jsx)(ej.A,{className:"h-4 w-4 mr-2"}),"Enriquecer com IA"]}),(0,t.jsxs)(f,{variant:"outline",size:"sm",className:"w-full justify-start",children:[(0,t.jsx)(ep.A,{className:"h-4 w-4 mr-2"}),"Atualizar Dados"]}),(0,t.jsxs)(f,{variant:"outline",size:"sm",className:"w-full justify-start",children:[(0,t.jsx)(eN.A,{className:"h-4 w-4 mr-2"}),"Buscar na Web"]})]})]})]}),(0,t.jsxs)(ex,{value:"produtos",className:"space-y-4 mt-4",children:[(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{children:(0,t.jsxs)(m,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(ef.A,{className:"h-4 w-4"}),"Produtos Relacionados"]})}),(0,t.jsx)(x,{children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nenhum produto vinculado a esta entidade."})})]}),(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{children:(0,t.jsxs)(m,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(eN.A,{className:"h-4 w-4"}),"Mercados de Atua\xe7\xe3o"]})}),(0,t.jsx)(x,{children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nenhum mercado vinculado a esta entidade."})})]})]}),(0,t.jsxs)(ex,{value:"rastreabilidade",className:"space-y-4 mt-4",children:[(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{children:(0,t.jsxs)(m,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(O.A,{className:"h-4 w-4"}),"Origem dos Dados"]})}),(0,t.jsxs)(x,{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Fonte"}),(0,t.jsx)("p",{className:"font-medium",children:h(s.origem_dados)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Data de Importa\xe7\xe3o"}),(0,t.jsx)("p",{className:"font-medium",children:j(s.created_at)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"\xdaltima Atualiza\xe7\xe3o"}),(0,t.jsx)("p",{className:"font-medium",children:j(s.updated_at)})]})]})]}),(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{children:(0,t.jsxs)(m,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(eg.A,{className:"h-4 w-4"}),"Auditoria"]})}),(0,t.jsxs)(x,{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Criado por"}),(0,t.jsx)("p",{className:"font-medium",children:h(s.created_by)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Atualizado por"}),(0,t.jsx)("p",{className:"font-medium",children:h(s.updated_by)})]})]})]})]}),(0,t.jsx)(ex,{value:"acoes",className:"space-y-4 mt-4",children:(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{children:(0,t.jsxs)(m,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)($.A,{className:"h-4 w-4"}),"A\xe7\xf5es Dispon\xedveis"]})}),(0,t.jsxs)(x,{className:"space-y-2",children:[(0,t.jsxs)(f,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>u(!0),children:[(0,t.jsx)(ev.A,{className:"h-4 w-4 mr-2"}),"Editar Dados"]}),(0,t.jsxs)(f,{variant:"outline",size:"sm",className:"w-full justify-start",children:[(0,t.jsx)(ej.A,{className:"h-4 w-4 mr-2"}),"Enriquecer com IA"]}),(0,t.jsxs)(f,{variant:"outline",size:"sm",className:"w-full justify-start",children:[(0,t.jsx)(eb.A,{className:"h-4 w-4 mr-2"}),"Exportar Dados"]}),(0,t.jsxs)(f,{variant:"outline",size:"sm",className:"w-full justify-start",children:[(0,t.jsx)(W.A,{className:"h-4 w-4 mr-2"}),"Enviar Email"]}),(0,t.jsxs)(f,{variant:"outline",size:"sm",className:"w-full justify-start",children:[(0,t.jsx)(ey.A,{className:"h-4 w-4 mr-2"}),"Abrir Website"]}),(0,t.jsxs)(f,{variant:"outline",size:"sm",className:"w-full justify-start",children:[(0,t.jsx)(ep.A,{className:"h-4 w-4 mr-2"}),"Atualizar Dados"]}),(0,t.jsxs)(f,{variant:"outline",size:"sm",className:"w-full justify-start text-destructive hover:text-destructive",children:[(0,t.jsx)(ew.A,{className:"h-4 w-4 mr-2"}),"Excluir Entidade"]})]})]})})]})]})}),(0,t.jsx)(eT,{entidade:s,open:n,onOpenChange:u,onSuccess:()=>{}})]})}eF.displayName=ek.b.displayName;let eL={cliente:{label:"Clientes",icon:L.A,color:"green"},lead:{label:"Leads",icon:M.A,color:"yellow"},concorrente:{label:"Concorrentes",icon:U.A,color:"red"}};function eM(){let e=(0,r.useRouter)(),s=(0,r.useSearchParams)(),{toast:a}={toast:X.o},i=s.get("tipo")||"",d=s.get("projeto_id"),n=s.get("pesquisa_id"),[u]=(0,l.useState)(i),[h]=(0,l.useState)(d?parseInt(d):void 0),[j]=(0,l.useState)(n?parseInt(n):void 0),[N,v]=(0,l.useState)(""),[b,y]=(0,l.useState)(""),[w,_]=(0,l.useState)(""),[E,M]=(0,l.useState)(""),[U,ee]=(0,l.useState)("todos"),[es,ea]=(0,l.useState)(),[et,el]=(0,l.useState)(),[er,ei]=(0,l.useState)("todos"),[ed,en]=(0,l.useState)(0),[ec,eo]=(0,l.useState)(null),[em,ex]=(0,l.useState)(!1),{data:eu,isLoading:eh,error:ej}=K.i.entidades.list.useQuery({tipo:u||void 0,projeto_id:h,pesquisa_id:j,busca:N||void 0,cidade:b||void 0,uf:w||void 0,setor:E||void 0,porte:U&&"todos"!==U?U:void 0,score_min:es,score_max:et,enriquecido:er&&"todos"!==er?er:void 0,limit:50,offset:ed}),ef=e=>{let s=null==eu?void 0:eu.data.find(s=>s.id===e);s&&(eo(s),ex(!0))},ep=u?eL[u]:null,eN=ep?ep.label:"Entidades",eg=ep?ep.icon:L.A,ev=[N,b,w,E,"todos"!==U,void 0!==es,void 0!==et,"todos"!==er].filter(Boolean).length;return(0,t.jsxs)("div",{className:"flex flex-col h-screen bg-background",children:[(0,t.jsx)("div",{className:"border-b bg-card",children:(0,t.jsx)("div",{className:"container py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(f,{variant:"ghost",size:"sm",onClick:()=>e.push("/desktop-turbo"),className:"gap-2",children:[(0,t.jsx)(V.A,{className:"h-4 w-4"}),"Voltar"]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(eg,{className:"h-6 w-6 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:eN}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:eu?"".concat(eu.total," registros encontrados"):"Carregando..."})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[h&&(0,t.jsxs)(g,{variant:"outline",className:"gap-1",children:["Projeto: ",h]}),j&&(0,t.jsxs)(g,{variant:"outline",className:"gap-1",children:["Pesquisa: ",j]})]})]})})}),(0,t.jsx)("div",{className:"border-b bg-card",children:(0,t.jsxs)("div",{className:"container py-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)(I.A,{className:"h-5 w-5 text-muted-foreground"}),(0,t.jsx)("span",{className:"font-medium",children:"Filtros:"}),ev>0&&(0,t.jsxs)(g,{variant:"secondary",children:[ev," ativos"]}),ev>0&&(0,t.jsxs)(f,{variant:"ghost",size:"sm",onClick:()=>{v(""),y(""),_(""),M(""),ee("todos"),ea(void 0),el(void 0),ei("todos"),en(0),a({title:"Filtros limpos",description:"Filtros espec\xedficos foram removidos"})},className:"gap-2",children:[(0,t.jsx)(J.A,{className:"h-4 w-4"}),"Limpar"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"lg:col-span-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Buscar"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(O.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(p,{placeholder:"Nome, CNPJ ou email...",value:N,onChange:e=>v(e.target.value),className:"pl-10"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Cidade"}),(0,t.jsx)(p,{placeholder:"Ex: S\xe3o Paulo",value:b,onChange:e=>y(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"UF"}),(0,t.jsx)(p,{placeholder:"Ex: SP",value:w,onChange:e=>_(e.target.value.toUpperCase()),maxLength:2})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Setor"}),(0,t.jsx)(p,{placeholder:"Ex: Tecnologia",value:E,onChange:e=>M(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Porte"}),(0,t.jsxs)(A,{value:U,onValueChange:ee,children:[(0,t.jsx)(P,{children:(0,t.jsx)(C,{placeholder:"Todos"})}),(0,t.jsxs)(S,{children:[(0,t.jsx)(R,{value:"todos",children:"Todos"}),(0,t.jsx)(R,{value:"Micro",children:"Micro"}),(0,t.jsx)(R,{value:"Pequeno",children:"Pequeno"}),(0,t.jsx)(R,{value:"M\xe9dio",children:"M\xe9dio"}),(0,t.jsx)(R,{value:"Grande",children:"Grande"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Score M\xedn."}),(0,t.jsx)(p,{type:"number",placeholder:"0",min:0,max:100,value:es||"",onChange:e=>ea(e.target.value?parseInt(e.target.value):void 0)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Score M\xe1x."}),(0,t.jsx)(p,{type:"number",placeholder:"100",min:0,max:100,value:et||"",onChange:e=>el(e.target.value?parseInt(e.target.value):void 0)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Enriquecido"}),(0,t.jsxs)(A,{value:er,onValueChange:e=>ei(e),children:[(0,t.jsx)(P,{children:(0,t.jsx)(C,{placeholder:"Todos"})}),(0,t.jsxs)(S,{children:[(0,t.jsx)(R,{value:"todos",children:"Todos"}),(0,t.jsx)(R,{value:"true",children:"Sim"}),(0,t.jsx)(R,{value:"false",children:"N\xe3o"})]})]})]})]})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-auto",children:(0,t.jsxs)("div",{className:"container py-6",children:[eh&&(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(B.A,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),ej&&(0,t.jsx)(c,{className:"border-destructive",children:(0,t.jsx)(x,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 text-destructive",children:[(0,t.jsx)(G.A,{className:"h-5 w-5"}),(0,t.jsx)("p",{children:"Erro ao carregar entidades. Tente novamente."})]})})}),!eh&&!ej&&eu&&0===eu.data.length&&(0,t.jsx)(c,{children:(0,t.jsx)(x,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(L.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"Nenhuma entidade encontrada"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Tente ajustar os filtros ou importar novos dados"})]})})}),!eh&&!ej&&eu&&eu.data.length>0&&(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{children:(0,t.jsxs)(m,{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{children:["Resultados (",eu.total,")"]}),(0,t.jsxs)("span",{className:"text-sm font-normal text-muted-foreground",children:["Exibindo ",eu.offset+1,"-",Math.min(eu.offset+eu.limit,eu.total)," de ",eu.total]})]})}),(0,t.jsxs)(x,{children:[(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)(z,{children:[(0,t.jsx)(k,{children:(0,t.jsxs)(F,{children:[(0,t.jsx)(T,{children:"Nome"}),(0,t.jsx)(T,{children:"CNPJ"}),(0,t.jsx)(T,{children:"Contato"}),(0,t.jsx)(T,{children:"Localiza\xe7\xe3o"}),(0,t.jsx)(T,{children:"Setor"}),(0,t.jsx)(T,{children:"Porte"}),(0,t.jsx)(T,{className:"text-right",children:"Score"}),(0,t.jsx)(T,{className:"text-center",children:"Valida\xe7\xf5es"})]})}),(0,t.jsx)(q,{children:eu.data.map(e=>(0,t.jsxs)(F,{className:"cursor-pointer hover:bg-muted/50",onDoubleClick:()=>ef(e.id),children:[(0,t.jsx)(D,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.nome}),e.nome_fantasia&&(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:e.nome_fantasia})]})}),(0,t.jsx)(D,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-mono text-sm",children:e.cnpj||"-"}),e.validacao_cnpj&&(0,t.jsx)(Q.A,{className:"h-4 w-4 text-green-500"})]})}),(0,t.jsx)(D,{children:(0,t.jsxs)("div",{className:"space-y-1",children:[e.email&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(W.A,{className:"h-3 w-3 text-muted-foreground"}),(0,t.jsx)("span",{className:"truncate max-w-[200px]",children:e.email}),e.validacao_email&&(0,t.jsx)(Q.A,{className:"h-3 w-3 text-green-500"})]}),e.telefone&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(Y.A,{className:"h-3 w-3 text-muted-foreground"}),(0,t.jsx)("span",{children:e.telefone}),e.validacao_telefone&&(0,t.jsx)(Q.A,{className:"h-3 w-3 text-green-500"})]})]})}),(0,t.jsx)(D,{children:e.cidade&&e.uf?(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(H.A,{className:"h-3 w-3 text-muted-foreground"}),(0,t.jsxs)("span",{children:[e.cidade,"/",e.uf]})]}):(0,t.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,t.jsx)(D,{children:e.setor||(0,t.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,t.jsx)(D,{children:e.porte||(0,t.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,t.jsx)(D,{className:"text-right",children:null!==e.score_qualidade_dados?(0,t.jsxs)(g,{variant:e.score_qualidade_dados>=70?"default":e.score_qualidade_dados>=40?"secondary":"destructive",children:[e.score_qualidade_dados,"%"]}):(0,t.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,t.jsx)(D,{className:"text-center",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[e.validacao_cnpj&&(0,t.jsx)(Q.A,{className:"h-4 w-4 text-green-500",title:"CNPJ v\xe1lido"}),e.validacao_email&&(0,t.jsx)(Q.A,{className:"h-4 w-4 text-blue-500",title:"Email v\xe1lido"}),e.validacao_telefone&&(0,t.jsx)(Q.A,{className:"h-4 w-4 text-purple-500",title:"Telefone v\xe1lido"}),!e.validacao_cnpj&&!e.validacao_email&&!e.validacao_telefone&&(0,t.jsx)(Z.A,{className:"h-4 w-4 text-muted-foreground",title:"Sem valida\xe7\xf5es"})]})})]},e.id))})]})}),eu.total>50&&(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,t.jsx)(f,{variant:"outline",size:"sm",onClick:()=>en(Math.max(0,ed-50)),disabled:0===ed,children:"Anterior"}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["P\xe1gina ",Math.floor(ed/50)+1," de ",Math.ceil(eu.total/50)]}),(0,t.jsx)(f,{variant:"outline",size:"sm",onClick:()=>en(ed+50),disabled:ed+50>=eu.total,children:"Pr\xf3xima"})]})]})]})]})}),(0,t.jsx)("div",{className:"border-t bg-card",children:(0,t.jsx)("div",{className:"container py-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)($.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:"Conforme LGPD (Lei 13.709/2018)"})]}),(0,t.jsx)("a",{href:"/politica-privacidade",className:"hover:text-foreground transition-colors",children:"Pol\xedtica de Privacidade"}),(0,t.jsx)("a",{href:"/termos-uso",className:"hover:text-foreground transition-colors",children:"Termos de Uso"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(W.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:"DPO: dpo@intelmarket.app"})]})]})})}),(0,t.jsx)(eD,{entidade:ec,open:em,onOpenChange:ex})]})}},5855:(e,s,a)=>{"use strict";a.d(s,{i:()=>r});var t=a(3489),l=a(9292);let r=(0,t.pY)();r.createClient({links:[(0,l.fu)({url:"/api/trpc",transformer:{input:{serialize:e=>e,deserialize:e=>e},output:{serialize:e=>e,deserialize:e=>{if(e&&"object"==typeof e&&"result"in e){let s=e.result;if(s&&"object"==typeof s&&"data"in s)return s.data}return e}}}})]})}},e=>{var s=s=>e(e.s=s);e.O(0,[139,898,474,297,358],()=>s(494)),_N_E=e.O()}]);