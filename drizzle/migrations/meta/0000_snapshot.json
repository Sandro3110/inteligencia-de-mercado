{
  "id": "ba9f1922-40a7-4928-9805-e57553dd9a00",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.dim_geografia": {
      "name": "dim_geografia",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "cidade": {
          "name": "cidade",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "uf": {
          "name": "uf",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": true
        },
        "regiao": {
          "name": "regiao",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric(10, 7)",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric(10, 7)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "dim_geografia_cidade_uf_unique": {
          "name": "dim_geografia_cidade_uf_unique",
          "columns": [
            {
              "expression": "cidade",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "uf",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dim_geografia_uf": {
          "name": "idx_dim_geografia_uf",
          "columns": [
            {
              "expression": "uf",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dim_geografia_regiao": {
          "name": "idx_dim_geografia_regiao",
          "columns": [
            {
              "expression": "regiao",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dim_geografia_cidade_uf": {
          "name": "idx_dim_geografia_cidade_uf",
          "columns": [
            {
              "expression": "cidade",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "uf",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.dim_mercados": {
      "name": "dim_mercados",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "mercado_hash": {
          "name": "mercado_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "nome": {
          "name": "nome",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "categoria": {
          "name": "categoria",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "segmentacao": {
          "name": "segmentacao",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "tamanho_mercado": {
          "name": "tamanho_mercado",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "crescimento_anual": {
          "name": "crescimento_anual",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tendencias": {
          "name": "tendencias",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "principais_players": {
          "name": "principais_players",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pesquisa_id": {
          "name": "pesquisa_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "dim_mercados_hash_unique": {
          "name": "dim_mercados_hash_unique",
          "columns": [
            {
              "expression": "mercado_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dim_mercados_pesquisa": {
          "name": "idx_dim_mercados_pesquisa",
          "columns": [
            {
              "expression": "pesquisa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dim_mercados_project": {
          "name": "idx_dim_mercados_project",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dim_mercados_categoria": {
          "name": "idx_dim_mercados_categoria",
          "columns": [
            {
              "expression": "categoria",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dim_mercados_hash": {
          "name": "idx_dim_mercados_hash",
          "columns": [
            {
              "expression": "mercado_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dim_mercados_pesquisa_categoria": {
          "name": "idx_dim_mercados_pesquisa_categoria",
          "columns": [
            {
              "expression": "pesquisa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "categoria",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.dim_produtos": {
      "name": "dim_produtos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "produto_hash": {
          "name": "produto_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "nome": {
          "name": "nome",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "categoria": {
          "name": "categoria",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "descricao": {
          "name": "descricao",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preco": {
          "name": "preco",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "unidade": {
          "name": "unidade",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "ativo": {
          "name": "ativo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "mercado_id": {
          "name": "mercado_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pesquisa_id": {
          "name": "pesquisa_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "dim_produtos_hash_unique": {
          "name": "dim_produtos_hash_unique",
          "columns": [
            {
              "expression": "produto_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dim_produtos_pesquisa": {
          "name": "idx_dim_produtos_pesquisa",
          "columns": [
            {
              "expression": "pesquisa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dim_produtos_project": {
          "name": "idx_dim_produtos_project",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dim_produtos_categoria": {
          "name": "idx_dim_produtos_categoria",
          "columns": [
            {
              "expression": "categoria",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dim_produtos_mercado": {
          "name": "idx_dim_produtos_mercado",
          "columns": [
            {
              "expression": "mercado_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dim_produtos_hash": {
          "name": "idx_dim_produtos_hash",
          "columns": [
            {
              "expression": "produto_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dim_produtos_pesquisa_categoria": {
          "name": "idx_dim_produtos_pesquisa_categoria",
          "columns": [
            {
              "expression": "pesquisa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "categoria",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.entidade_competidores": {
      "name": "entidade_competidores",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "entidade_id": {
          "name": "entidade_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "competidor_id": {
          "name": "competidor_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mercado_id": {
          "name": "mercado_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "nivel_competicao": {
          "name": "nivel_competicao",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "entidade_competidores_unique": {
          "name": "entidade_competidores_unique",
          "columns": [
            {
              "expression": "entidade_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "competidor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "mercado_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_entidade_competidores_entidade": {
          "name": "idx_entidade_competidores_entidade",
          "columns": [
            {
              "expression": "entidade_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_entidade_competidores_competidor": {
          "name": "idx_entidade_competidores_competidor",
          "columns": [
            {
              "expression": "competidor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_entidade_competidores_mercado": {
          "name": "idx_entidade_competidores_mercado",
          "columns": [
            {
              "expression": "mercado_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "entidade_competidores_check": {
          "name": "entidade_competidores_check",
          "value": "entidade_id != competidor_id"
        }
      },
      "isRLSEnabled": false
    },
    "public.entidade_produtos": {
      "name": "entidade_produtos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "entidade_id": {
          "name": "entidade_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "produto_id": {
          "name": "produto_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "tipo_relacao": {
          "name": "tipo_relacao",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "entidade_produtos_unique": {
          "name": "entidade_produtos_unique",
          "columns": [
            {
              "expression": "entidade_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "produto_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_entidade_produtos_entidade": {
          "name": "idx_entidade_produtos_entidade",
          "columns": [
            {
              "expression": "entidade_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_entidade_produtos_produto": {
          "name": "idx_entidade_produtos_produto",
          "columns": [
            {
              "expression": "produto_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_entidade_produtos_tipo": {
          "name": "idx_entidade_produtos_tipo",
          "columns": [
            {
              "expression": "tipo_relacao",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.fato_entidades": {
      "name": "fato_entidades",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "tipo_entidade": {
          "name": "tipo_entidade",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "entidade_hash": {
          "name": "entidade_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "nome": {
          "name": "nome",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "cnpj": {
          "name": "cnpj",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "pesquisa_id": {
          "name": "pesquisa_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "geografia_id": {
          "name": "geografia_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mercado_id": {
          "name": "mercado_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "telefone": {
          "name": "telefone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "site_oficial": {
          "name": "site_oficial",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "linkedin": {
          "name": "linkedin",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "instagram": {
          "name": "instagram",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "cnae": {
          "name": "cnae",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "porte": {
          "name": "porte",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "segmentacao_b2b_b2c": {
          "name": "segmentacao_b2b_b2c",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "faturamento_declarado": {
          "name": "faturamento_declarado",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "faturamento_estimado": {
          "name": "faturamento_estimado",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "numero_estabelecimentos": {
          "name": "numero_estabelecimentos",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "qualidade_score": {
          "name": "qualidade_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "qualidade_classificacao": {
          "name": "qualidade_classificacao",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "status_qualificacao": {
          "name": "status_qualificacao",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'prospect'"
        },
        "validation_status": {
          "name": "validation_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "validation_notes": {
          "name": "validation_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "validated_by": {
          "name": "validated_by",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "validated_at": {
          "name": "validated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "lead_stage": {
          "name": "lead_stage",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "stage_updated_at": {
          "name": "stage_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cliente_origem_id": {
          "name": "cliente_origem_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "fato_entidades_hash_unique": {
          "name": "fato_entidades_hash_unique",
          "columns": [
            {
              "expression": "entidade_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_tipo": {
          "name": "idx_fato_entidades_tipo",
          "columns": [
            {
              "expression": "tipo_entidade",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_pesquisa": {
          "name": "idx_fato_entidades_pesquisa",
          "columns": [
            {
              "expression": "pesquisa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_project": {
          "name": "idx_fato_entidades_project",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_geografia": {
          "name": "idx_fato_entidades_geografia",
          "columns": [
            {
              "expression": "geografia_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_mercado": {
          "name": "idx_fato_entidades_mercado",
          "columns": [
            {
              "expression": "mercado_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_hash": {
          "name": "idx_fato_entidades_hash",
          "columns": [
            {
              "expression": "entidade_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_qualidade": {
          "name": "idx_fato_entidades_qualidade",
          "columns": [
            {
              "expression": "qualidade_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_cnpj": {
          "name": "idx_fato_entidades_cnpj",
          "columns": [
            {
              "expression": "cnpj",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_tipo_pesquisa": {
          "name": "idx_fato_entidades_tipo_pesquisa",
          "columns": [
            {
              "expression": "tipo_entidade",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "pesquisa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_tipo_mercado": {
          "name": "idx_fato_entidades_tipo_mercado",
          "columns": [
            {
              "expression": "tipo_entidade",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "mercado_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_cliente_origem": {
          "name": "idx_fato_entidades_cliente_origem",
          "columns": [
            {
              "expression": "cliente_origem_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_geografia_mercado": {
          "name": "idx_fato_entidades_geografia_mercado",
          "columns": [
            {
              "expression": "geografia_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "mercado_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_status_qualificacao": {
          "name": "idx_fato_entidades_status_qualificacao",
          "columns": [
            {
              "expression": "status_qualificacao",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_tipo_status": {
          "name": "idx_fato_entidades_tipo_status",
          "columns": [
            {
              "expression": "tipo_entidade",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status_qualificacao",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_pesquisa_status": {
          "name": "idx_fato_entidades_pesquisa_status",
          "columns": [
            {
              "expression": "pesquisa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status_qualificacao",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_mercado_status": {
          "name": "idx_fato_entidades_mercado_status",
          "columns": [
            {
              "expression": "mercado_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status_qualificacao",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_geografia_status": {
          "name": "idx_fato_entidades_geografia_status",
          "columns": [
            {
              "expression": "geografia_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status_qualificacao",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_tipo_pesquisa_status": {
          "name": "idx_fato_entidades_tipo_pesquisa_status",
          "columns": [
            {
              "expression": "tipo_entidade",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "pesquisa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status_qualificacao",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "fato_entidades_tipo_check": {
          "name": "fato_entidades_tipo_check",
          "value": "tipo_entidade IN ('cliente', 'lead', 'concorrente')"
        },
        "fato_entidades_qualidade_check": {
          "name": "fato_entidades_qualidade_check",
          "value": "qualidade_score >= 0 AND qualidade_score <= 100"
        },
        "fato_entidades_status_qualificacao_check": {
          "name": "fato_entidades_status_qualificacao_check",
          "value": "status_qualificacao IN ('ativo', 'inativo', 'prospect', 'lead_qualificado', 'lead_desqualificado')"
        }
      },
      "isRLSEnabled": false
    },
    "public.fato_entidades_history": {
      "name": "fato_entidades_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "entidade_id": {
          "name": "entidade_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "data_snapshot": {
          "name": "data_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "change_type": {
          "name": "change_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "changed_by": {
          "name": "changed_by",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "changed_at": {
          "name": "changed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_fato_entidades_history_entidade": {
          "name": "idx_fato_entidades_history_entidade",
          "columns": [
            {
              "expression": "entidade_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_history_changed_at": {
          "name": "idx_fato_entidades_history_changed_at",
          "columns": [
            {
              "expression": "changed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_fato_entidades_history_change_type": {
          "name": "idx_fato_entidades_history_change_type",
          "columns": [
            {
              "expression": "change_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "fato_entidades_history_type_check": {
          "name": "fato_entidades_history_type_check",
          "value": "change_type IN ('created', 'updated', 'deleted')"
        }
      },
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}